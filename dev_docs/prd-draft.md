#  PRD draft

## Суть проекта

Это приложение работающее как telegram web app и как отдельное веб приложение для блогеров чтобы управлять контентом , проектами и публикациями, а так же приглашать других пользователей для помощи в управлении.

Это приложение в виде бэкэнда на nestjs и фронтенда на nuxt 4 является частью проекта grand-publicador, который работает как n8n автоматизация, которая вызывает микросервисы для сбора новостей и их анализа, а так же имеет telegram bot в который админ может закидыввать контент. Весь контент и новости и кастомный контент в итоге попадает в бд через api который реализован в этом репозитории. Так же в n8n есть автоматизация которая проверяет есть ли чтото на публикацию, если есть то запрашивает посты и отсылает их в микросервис который занимается публикацией в различные соц сети.

## Структура

- проекты - это вместилище каналов и в проекты приглашаются пользователи, которым даются права на отдельые каналы и администратиные функции
- канал - это обертка над каналом в какой либо поддерживаемой соц сети, он входит в проект, имеет свои настройки и связь с соц сетью
- публикация это базовая публикация в канале, пост это конкретный пост в конкретной соц сети на базе публикации

## Функциональность внешнего api

- добавление через api новых постов из n8n автоматизации
- api для получения постов и публикаций готовых к публикации с небольшим окном. api будет оправшиваться, например каждые 5 минут, поэтому отдавать нужно уже просроченные посты, но не слишком старые (указываеть в запросе время в минутах на которое заглядывать назад). слишком просроченные нужно пометить как просроченные, потому что скорее всего произошла какаято ошибка и админу нужно самому разобраться с этими постами
- запрос отдельных постов по id
- запросы будут делаться в сети docker поэтому для них не нужна авторизация, но для внешних запросов будет использоваться api gateway, но это уже не входит в функционнал этого сервера

## Функциональность веб приложения

- управление проектами
- управление каналами
- управление приглашенными пользователями в проект и их правами
- управление публикациями и постами
- настройки пользователя
  - язык - ru, en
  - тема - темная, светлая
  - так же будут и другие настройки в следующей версии, в частности подключение к llm провайдеру для работы с постами с помощью llm
- форма поста которая открывается в telegram bot когда пользователь загрузил медиа и текст и нажал далле и показывается форма поста которую нужно заполнить уже из веб приложения
- аторизация пользователя через telegram

## следующие версии

- формирование постов с помощью llm
- аторизация через telegram bot чтобы входить в веб приложение не через telegram а через обычный браузер
- pwa
