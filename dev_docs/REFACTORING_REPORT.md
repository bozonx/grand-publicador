# –û—Ç—á–µ—Ç –æ–± –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è—Ö –∫–æ–¥–∞

## –í—ã–ø–æ–ª–Ω–µ–Ω–Ω—ã–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è

### 1. ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ Prisma –¥–æ –≤–µ—Ä—Å–∏–∏ 7
- –°–æ–∑–¥–∞–Ω `prisma.config.ts` —Å –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–µ–π datasource URL
- –û–±–Ω–æ–≤–ª–µ–Ω `prisma/schema.prisma` - —É–¥–∞–ª–µ–Ω `url` –∏–∑ datasource
- –£—Å–ø–µ—à–Ω–æ —Å–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞–Ω Prisma Client v7.2.0

### 2. ‚úÖ –£–¥–∞–ª–µ–Ω –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–π –∫–æ–¥
- –£–¥–∞–ª–µ–Ω —Ñ–∞–π–ª `src/common/types/prisma-enums.ts` (–Ω–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª—Å—è, —Å–æ–¥–µ—Ä–∂–∞–ª —É—Å—Ç–∞—Ä–µ–≤—à–∏–µ —Ç–∏–ø—ã)

### 3. ‚úÖ –°–æ–∑–¥–∞–Ω —Ü–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞–Ω–Ω—ã–π PermissionsService
- –°–æ–∑–¥–∞–Ω `src/common/services/permissions.service.ts`
- –£—Å—Ç—Ä–∞–Ω—è–µ—Ç –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –º–µ—Ç–æ–¥–∞ `checkPermission` –≤ 4 —Å–µ—Ä–≤–∏—Å–∞—Ö
- –†–µ–∞–ª–∏–∑—É–µ—Ç –µ–¥–∏–Ω—É—é –ª–æ–≥–∏–∫—É –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø—Ä–∞–≤ –¥–æ—Å—Ç—É–ø–∞ —Å —É—á–µ—Ç–æ–º –≤–ª–∞–¥–µ–ª—å—Ü–∞ –ø—Ä–æ–µ–∫—Ç–∞
- –ú–µ—Ç–æ–¥—ã:
  - `checkProjectAccess()` - –ø—Ä–æ–≤–µ—Ä–∫–∞ –ª—é–±–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞ –∫ –ø—Ä–æ–µ–∫—Ç—É
  - `checkProjectPermission()` - –ø—Ä–æ–≤–µ—Ä–∫–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö —Ä–æ–ª–µ–π
  - `getUserProjectRole()` - –ø–æ–ª—É—á–µ–Ω–∏–µ —Ä–æ–ª–∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

### 4. ‚úÖ –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ PublicationsService
- –ó–∞–º–µ–Ω–µ–Ω—ã –¥—É–±–ª–∏—Ä—É—é—â–∏–µ—Å—è –º–µ—Ç–æ–¥—ã `checkProjectAccess` –∏ `checkProjectPermission` –Ω–∞ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `PermissionsService`
- –£–ª—É—á—à–µ–Ω–∞ —Ç–∏–ø–∏–∑–∞—Ü–∏—è: `any` ‚Üí `Prisma.PublicationWhereInput`
- –£–¥–∞–ª–µ–Ω–æ 52 —Å—Ç—Ä–æ–∫–∏ –¥—É–±–ª–∏—Ä—É—é—â–µ–≥–æ—Å—è –∫–æ–¥–∞

### 5. üîÑ –í –ø—Ä–æ—Ü–µ—Å—Å–µ: –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ External API
**–ü—Ä–æ–±–ª–µ–º–∞:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `null as any` –≤–º–µ—Å—Ç–æ –≤–∞–ª–∏–¥–Ω–æ–≥–æ userId
**–ü–ª–∞–Ω:**
- –°–æ–∑–¥–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω—ã–π –º–µ—Ç–æ–¥ `createExternalPublication` –±–µ–∑ –ø—Ä–æ–≤–µ—Ä–∫–∏ –ø—Ä–∞–≤
- –ò–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Å–∏—Å—Ç–µ–º–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

### 6. üîÑ –í –ø—Ä–æ—Ü–µ—Å—Å–µ: –†–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥ –æ—Å—Ç–∞–ª—å–Ω—ã—Ö —Å–µ—Ä–≤–∏—Å–æ–≤
–ù–µ–æ–±—Ö–æ–¥–∏–º–æ –æ–±–Ω–æ–≤–∏—Ç—å:
- `BlogsService` - –∑–∞–º–µ–Ω–∏—Ç—å `checkPermission` –Ω–∞ `PermissionsService`
- `ChannelsService` - –∑–∞–º–µ–Ω–∏—Ç—å `checkPermission` –Ω–∞ `PermissionsService`
- `PostsService` - –∑–∞–º–µ–Ω–∏—Ç—å `checkPermission` –Ω–∞ `PermissionsService`

### 7. üîÑ –í –ø—Ä–æ—Ü–µ—Å—Å–µ: –£–¥–∞–ª–µ–Ω–∏–µ –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã—Ö –∏–º–ø–æ—Ä—Ç–æ–≤
- `auth.service.ts` - —É–¥–∞–ª–∏—Ç—å `createHash`
- `publications.controller.ts` - —É–¥–∞–ª–∏—Ç—å `IsEnum`, `IsString`

### 8. üîÑ –ü–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è: –£–ª—É—á—à–µ–Ω–∏–µ —Ç–∏–ø–∏–∑–∞—Ü–∏–∏
- –ó–∞–º–µ–Ω–∏—Ç—å `any` –Ω–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–µ —Ç–∏–ø—ã —Ç–∞–º, –≥–¥–µ –≤–æ–∑–º–æ–∂–Ω–æ
- –¢–∏–ø–∏–∑–∏—Ä–æ–≤–∞—Ç—å `Request` –≤ guards –∏ controllers

### 9. üîÑ –ü–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è: –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ª–æ–≥–∏—á–µ—Å–∫–∏—Ö –æ—à–∏–±–æ–∫
- –î–æ–±–∞–≤–∏—Ç—å –≤–∞–ª–∏–¥–∞—Ü–∏—é `channelIds` (–ø—É—Å—Ç–æ–π –º–∞—Å—Å–∏–≤, –¥—É–±–ª–∏–∫–∞—Ç—ã)
- –ò—Å–ø—Ä–∞–≤–∏—Ç—å race condition –≤ `AutomationService.claimPost`
- –î–æ–±–∞–≤–∏—Ç—å –≤–∞–ª–∏–¥–∞—Ü–∏—é `scheduledAt` (–Ω–µ –≤ –ø—Ä–æ—à–ª–æ–º)
- –°–¥–µ–ª–∞—Ç—å `postType` –¥–∏–Ω–∞–º–∏—á–µ—Å–∫–∏–º –≤–º–µ—Å—Ç–æ –∂–µ—Å—Ç–∫–æ –∑–∞–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–Ω–æ–≥–æ 'POST'

### 10. üîÑ –ü–ª–∞–Ω–∏—Ä—É–µ—Ç—Å—è: –ò—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ BlogsService.create
- –£–±—Ä–∞—Ç—å –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –≤–ª–∞–¥–µ–ª—å—Ü–µ (Project.ownerId vs ProjectMember —Å —Ä–æ–ª—å—é OWNER)

## –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

- **–£–¥–∞–ª–µ–Ω–æ —Å—Ç—Ä–æ–∫ –∫–æ–¥–∞:** ~60
- **–°–æ–∑–¥–∞–Ω–æ –Ω–æ–≤—ã—Ö —Ñ–∞–π–ª–æ–≤:** 2 (PermissionsService, prisma.config.ts)
- **–£–¥–∞–ª–µ–Ω–æ —Ñ–∞–π–ª–æ–≤:** 1 (prisma-enums.ts)
- **–£—Å—Ç—Ä–∞–Ω–µ–Ω–æ –¥—É–±–ª–∏—Ä–æ–≤–∞–Ω–∏—è:** 4 –∏–¥–µ–Ω—Ç–∏—á–Ω—ã—Ö –º–µ—Ç–æ–¥–∞ ‚Üí 1 —Å–µ—Ä–≤–∏—Å

## –°–ª–µ–¥—É—é—â–∏–µ —à–∞–≥–∏

1. –û–±–Ω–æ–≤–∏—Ç—å –º–æ–¥—É–ª–∏ –¥–ª—è –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è PermissionsService
2. –ò—Å–ø—Ä–∞–≤–∏—Ç—å External API
3. –£–¥–∞–ª–∏—Ç—å –Ω–µ–∏—Å–ø–æ–ª—å–∑—É–µ–º—ã–µ –∏–º–ø–æ—Ä—Ç—ã
4. –£–ª—É—á—à–∏—Ç—å —Ç–∏–ø–∏–∑–∞—Ü–∏—é
5. –ò—Å–ø—Ä–∞–≤–∏—Ç—å –ª–æ–≥–∏—á–µ—Å–∫–∏–µ –æ—à–∏–±–∫–∏
6. –ó–∞–ø—É—Å—Ç–∏—Ç—å —Ç–µ—Å—Ç—ã –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏

## –ü—Ä–∏–º–µ—á–∞–Ω–∏—è

- TypeScript –º–æ–∂–µ—Ç –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –æ—à–∏–±–∫–∏ –∏–∑-–∑–∞ –∫—ç—à–∞ —Å—Ç–∞—Ä–æ–π –≤–µ—Ä—Å–∏–∏ Prisma Client
- –ù–µ–æ–±—Ö–æ–¥–∏–º –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫ TypeScript server –∏–ª–∏ IDE
- –í—Å–µ –∏–∑–º–µ–Ω–µ–Ω–∏—è –æ–±—Ä–∞—Ç–Ω–æ —Å–æ–≤–º–µ—Å—Ç–∏–º—ã —Å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–º –∫–æ–¥–æ–º
