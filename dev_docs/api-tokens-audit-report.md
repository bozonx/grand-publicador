# –û—Ç—á—ë—Ç –ø–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏ API —Ç–æ–∫–µ–Ω–æ–≤

–î–∞—Ç–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏: 2025-12-30  
–ü—Ä–æ–≤–µ—Ä—è–ª: Antigravity AI Agent

## –†–µ–∑—é–º–µ

–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å API —Ç–æ–∫–µ–Ω–æ–≤ –≤ —Ü–µ–ª–æ–º **—Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞**, –Ω–æ –æ–±–Ω–∞—Ä—É–∂–µ–Ω–∞ **–∫—Ä–∏—Ç–∏—á–µ—Å–∫–∞—è –æ—à–∏–±–∫–∞ –≤ –≤–∞–ª–∏–¥–∞—Ü–∏–∏ —Ç–æ–∫–µ–Ω–æ–≤**, –∫–æ—Ç–æ—Ä–∞—è –±—ã–ª–∞ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∞. –¢–∞–∫–∂–µ –Ω–∞–π–¥–µ–Ω—ã –º–µ–ª–∫–∏–µ –ø—Ä–æ–±–ª–µ–º—ã —Å –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–µ–π –∏ –ø–µ—Ä–µ–≤–æ–¥–∞–º–∏, –∫–æ—Ç–æ—Ä—ã–µ –±—ã–ª–∏ —É—Å—Ç—Ä–∞–Ω–µ–Ω—ã.

---

## ‚úÖ –ß—Ç–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ

### 1. –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö (Prisma Schema)
- ‚úÖ –ú–æ–¥–µ–ª—å `ApiToken` —Å–æ–∑–¥–∞–Ω–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- ‚úÖ –ü–æ–ª—è: `id`, `userId`, `name`, `hashedToken`, `encryptedToken`, `scopeProjectIds`, `lastUsedAt`, `createdAt`, `updatedAt`
- ‚úÖ –°–≤—è–∑—å —Å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º —á–µ—Ä–µ–∑ `userId` —Å –∫–∞—Å–∫–∞–¥–Ω—ã–º —É–¥–∞–ª–µ–Ω–∏–µ–º
- ‚úÖ –ò–Ω–¥–µ–∫—Å—ã –Ω–∞—Å—Ç—Ä–æ–µ–Ω—ã –ø—Ä–∞–≤–∏–ª—å–Ω–æ
- ‚úÖ –ú–∏–≥—Ä–∞—Ü–∏–∏ –ø—Ä–∏–º–µ–Ω–µ–Ω—ã —É—Å–ø–µ—à–Ω–æ

### 2. Backend (NestJS)

#### ApiTokensService (`src/modules/api-tokens/api-tokens.service.ts`)
- ‚úÖ –ì–µ–Ω–µ—Ä–∞—Ü–∏—è —Ç–æ–∫–µ–Ω–æ–≤ —á–µ—Ä–µ–∑ `randomBytes(32).toString('base64url')`
- ‚úÖ **–ò–°–ü–†–ê–í–õ–ï–ù–û**: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ SHA-256 —Ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏—è –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –ø–æ–∏—Å–∫–∞ —Ç–æ–∫–µ–Ω–æ–≤
- ‚úÖ AES-256-CBC —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è plainToken (—á—Ç–æ–±—ã –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é)
- ‚úÖ CRUD –æ–ø–µ—Ä–∞—Ü–∏–∏ –¥–ª—è —Ç–æ–∫–µ–Ω–æ–≤
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è —Ç–æ–∫–µ–Ω–æ–≤ —Ä–∞–±–æ—Ç–∞–µ—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ
- ‚úÖ –û–±–Ω–æ–≤–ª–µ–Ω–∏–µ `lastUsedAt` –ø—Ä–∏ –∫–∞–∂–¥–æ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ scope (–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –¥–æ—Å—Ç—É–ø–∞ –ø–æ –ø—Ä–æ–µ–∫—Ç–∞–º)

#### ApiTokensController (`src/modules/api-tokens/api-tokens.controller.ts`)
- ‚úÖ GET `/api/v1/api-tokens` - –ø–æ–ª—É—á–µ–Ω–∏–µ –≤—Å–µ—Ö —Ç–æ–∫–µ–Ω–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
- ‚úÖ POST `/api/v1/api-tokens` - —Å–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ —Ç–æ–∫–µ–Ω–∞
- ‚úÖ PATCH `/api/v1/api-tokens/:id` - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –∏–º–µ–Ω–∏ –∏ scope
- ‚úÖ DELETE `/api/v1/api-tokens/:id` - —É–¥–∞–ª–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞
- ‚úÖ –ó–∞—â–∏—Ç–∞ —á–µ—Ä–µ–∑ JWT Guard (—Ç–æ–ª—å–∫–æ –¥–ª—è –∞–≤—Ç–æ—Ä–∏–∑–æ–≤–∞–Ω–Ω—ã—Ö –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π)

#### ApiTokenGuard (`src/common/guards/api-key.guard.ts`)
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è —Ç–æ–∫–µ–Ω–æ–≤ –∏–∑ –∑–∞–≥–æ–ª–æ–≤–∫–æ–≤ `x-api-key` –∏ `Authorization: Bearer`
- ‚úÖ –ü—Ä–æ–≤–µ—Ä–∫–∞ scope –ø—Ä–∏ –¥–æ—Å—Ç—É–ø–µ –∫ –ø—Ä–æ–µ–∫—Ç–∞–º —á–µ—Ä–µ–∑ `validateProjectScope()`
- ‚úÖ –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ `lastUsedAt`
- ‚úÖ –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ –≤ request

#### –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å External –∏ Automation API
- ‚úÖ `ExternalController` –∑–∞—â–∏—â—ë–Ω —á–µ—Ä–µ–∑ `ApiTokenGuard`
- ‚úÖ –í–∞–ª–∏–¥–∞—Ü–∏—è scope –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ –ø—É–±–ª–∏–∫–∞—Ü–∏–π
- ‚úÖ `AutomationController` –∑–∞—â–∏—â—ë–Ω —á–µ—Ä–µ–∑ `ApiTokenGuard`
- ‚úÖ –§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ—Å—Ç–æ–≤ –ø–æ scope —Ç–æ–∫–µ–Ω–∞

### 3. Frontend (Nuxt 3 + Vue 3)

#### Composable (`ui/app/composables/useApiTokens.ts`)
- ‚úÖ `fetchTokens()` - –ø–æ–ª—É—á–µ–Ω–∏–µ —Å–ø–∏—Å–∫–∞ —Ç–æ–∫–µ–Ω–æ–≤
- ‚úÖ `createToken()` - —Å–æ–∑–¥–∞–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞
- ‚úÖ `updateToken()` - –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞
- ‚úÖ `deleteToken()` - —É–¥–∞–ª–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞
- ‚úÖ `copyToken()` - –∫–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ –±—É—Ñ–µ—Ä –æ–±–º–µ–Ω–∞
- ‚úÖ –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –∏ toast —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è
- ‚úÖ –†–µ–∞–∫—Ç–∏–≤–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ

#### UI (`ui/app/pages/settings.vue`)
- ‚úÖ –°–µ–∫—Ü–∏—è "API Tokens" –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö
- ‚úÖ –°–ø–∏—Å–æ–∫ —Ç–æ–∫–µ–Ω–æ–≤ —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π: –∏–º—è, scope, –¥–∞—Ç–∞ —Å–æ–∑–¥–∞–Ω–∏—è, –ø–æ—Å–ª–µ–¥–Ω–µ–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ
- ‚úÖ –°–∫—Ä—ã—Ç–∏–µ/–ø–æ–∫–∞–∑ —Ç–æ–∫–µ–Ω–∞ (–º–∞—Å–∫–∏—Ä–æ–≤–∫–∞)
- ‚úÖ –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Å–æ–∑–¥–∞–Ω–∏—è —Ç–æ–∫–µ–Ω–∞
- ‚úÖ –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Ç–æ–∫–µ–Ω–∞
- ‚úÖ –í—ã–±–æ—Ä –ø—Ä–æ–µ–∫—Ç–æ–≤ –¥–ª—è –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è scope
- ‚úÖ –ö–æ–ø–∏—Ä–æ–≤–∞–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞ –≤ –±—É—Ñ–µ—Ä
- ‚úÖ –£–¥–∞–ª–µ–Ω–∏–µ —Å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ–º
- ‚úÖ –û—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ scope ("–í—Å–µ –ø—Ä–æ–µ–∫—Ç—ã" –∏–ª–∏ —Å–ø–∏—Å–æ–∫ –ø—Ä–æ–µ–∫—Ç–æ–≤)

#### TypeScript —Ç–∏–ø—ã (`ui/app/types/api-tokens.types.ts`)
- ‚úÖ `ApiToken` –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
- ‚úÖ `CreateApiTokenDto` –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
- ‚úÖ `UpdateApiTokenDto` –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å

---

## üêõ –ù–∞–π–¥–µ–Ω–Ω—ã–µ –∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–Ω—ã–µ –ø—Ä–æ–±–ª–µ–º—ã

### 1. üî¥ –ö–†–ò–¢–ò–ß–ï–°–ö–ê–Ø: –ù–µ—Ä–∞–±–æ—Ç–∞—é—â–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è —Ç–æ–∫–µ–Ω–æ–≤

**–ü—Ä–æ–±–ª–µ–º–∞:**
–í –º–µ—Ç–æ–¥–µ `validateToken()` –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–ª—Å—è `encryptToken()` –¥–ª—è –ø–æ–∏—Å–∫–∞ —Ç–æ–∫–µ–Ω–∞ –≤ –ë–î. –ü—Ä–æ–±–ª–µ–º–∞ –≤ —Ç–æ–º, —á—Ç–æ –∫–∞–∂–¥—ã–π –≤—ã–∑–æ–≤ `encryptToken()` –≥–µ–Ω–µ—Ä–∏—Ä—É–µ—Ç –Ω–æ–≤—ã–π IV (initialization vector), –ø–æ—ç—Ç–æ–º—É —Ä–µ–∑—É–ª—å—Ç–∞—Ç —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è –≤—Å–µ–≥–¥–∞ —Ä–∞–∑–Ω—ã–π. –≠—Ç–æ –ø—Ä–∏–≤–æ–¥–∏–ª–æ –∫ —Ç–æ–º—É, —á—Ç–æ —Ç–æ–∫–µ–Ω **–ù–ò–ö–û–ì–î–ê** –Ω–µ –Ω–∞—Ö–æ–¥–∏–ª—Å—è –≤ –±–∞–∑–µ, –∏ –≤–∞–ª–∏–¥–∞—Ü–∏—è –≤—Å–µ–≥–¥–∞ –≤–æ–∑–≤—Ä–∞—â–∞–ª–∞ `null`.

**–ü–æ—Å–ª–µ–¥—Å—Ç–≤–∏—è:**
- ‚ùå External API –Ω–µ —Ä–∞–±–æ—Ç–∞–ª
- ‚ùå Automation API –Ω–µ —Ä–∞–±–æ—Ç–∞–ª
- ‚ùå –õ—é–±—ã–µ –∑–∞–ø—Ä–æ—Å—ã —Å API —Ç–æ–∫–µ–Ω–æ–º –≤–æ–∑–≤—Ä–∞—â–∞–ª–∏ 401 Unauthorized

**–†–µ—à–µ–Ω–∏–µ:**
- –î–æ–±–∞–≤–ª–µ–Ω–æ –ø–æ–ª–µ `hashedToken` –≤ –º–æ–¥–µ–ª—å `ApiToken`
- –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è SHA-256 —Ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –ø–æ—Å—Ç–æ—è–Ω–Ω–æ–≥–æ –∏ –±—ã—Å—Ç—Ä–æ–≥–æ –ø–æ–∏—Å–∫–∞ —Ç–æ–∫–µ–Ω–æ–≤
- `encryptedToken` –æ—Å—Ç–∞–≤–ª–µ–Ω —Ç–æ–ª—å–∫–æ –¥–ª—è —Ö—Ä–∞–Ω–µ–Ω–∏—è —Ä–∞—Å—à–∏—Ñ—Ä–æ–≤—ã–≤–∞–µ–º–æ–π –≤–µ—Ä—Å–∏–∏ (—á—Ç–æ–±—ã –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é)
- –°–æ–∑–¥–∞–Ω–∞ –º–∏–≥—Ä–∞—Ü–∏—è `20251230182510_add_hashed_token_field`

**–§–∞–π–ª—ã –∏–∑–º–µ–Ω–µ–Ω—ã:**
- `prisma/schema.prisma` - –¥–æ–±–∞–≤–ª–µ–Ω–æ –ø–æ–ª–µ `hashedToken`
- `src/modules/api-tokens/api-tokens.service.ts` - –¥–æ–±–∞–≤–ª–µ–Ω –º–µ—Ç–æ–¥ `hashToken()`, –æ–±–Ω–æ–≤–ª–µ–Ω—ã `create()` –∏ `validateToken()`
- `prisma/migrations/20251230182510_add_hashed_token_field/migration.sql` - –Ω–æ–≤–∞—è –º–∏–≥—Ä–∞—Ü–∏—è

### 2. üü° –°–†–ï–î–ù–Ø–Ø: –£—Å—Ç–∞—Ä–µ–≤—à–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

**–ü—Ä–æ–±–ª–µ–º–∞:**
–í –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏ `docs/api-external.md` –≤—Å—ë –µ—â—ë –æ–ø–∏—Å—ã–≤–∞–ª—Å—è —Å—Ç–∞—Ä—ã–π –ø–æ–¥—Ö–æ–¥ —Å —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–º `API_KEY` –∏–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö –æ–∫—Ä—É–∂–µ–Ω–∏—è.

**–†–µ—à–µ–Ω–∏–µ:**
–û–±–Ω–æ–≤–ª–µ–Ω–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è —Å –æ–ø–∏—Å–∞–Ω–∏–µ–º:
- –ö–∞–∫ —Å–æ–∑–¥–∞—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏–π API —Ç–æ–∫–µ–Ω —á–µ—Ä–µ–∑ UI
- –ö–∞–∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å —Ç–æ–∫–µ–Ω –≤ –∑–∞–ø—Ä–æ—Å–∞—Ö
- –ö–∞–∫ —Ä–∞–±–æ—Ç–∞–µ—Ç —Å–∏—Å—Ç–µ–º–∞ scope (–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –ø–æ –ø—Ä–æ–µ–∫—Ç–∞–º)

**–§–∞–π–ª –∏–∑–º–µ–Ω—ë–Ω:**
- `docs/api-external.md`

### 3. üü¢ –ú–ï–õ–ö–ê–Ø: –û—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏–µ –ø–µ—Ä–µ–≤–æ–¥—ã

**–ü—Ä–æ–±–ª–µ–º–∞:**
–í —Ñ–∞–π–ª–µ –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏–∏ `ru-RU.json` –æ—Ç—Å—É—Ç—Å—Ç–≤–æ–≤–∞–ª–∏ –ø–µ—Ä–µ–≤–æ–¥—ã –¥–ª—è —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏ API —Ç–æ–∫–µ–Ω–æ–≤.

**–†–µ—à–µ–Ω–∏–µ:**
–î–æ–±–∞–≤–ª–µ–Ω—ã –ø–µ—Ä–µ–≤–æ–¥—ã:
- `apiTokensDescription`
- `createToken`
- `editToken`
- `tokenName`
- `limitToProjects`
- `selectProjects`
- `allProjects`
- `selectedProjects`
- `scope`
- `created`
- `lastUsed`
- `neverUsed`
- `noTokens`
- `confirmDeleteToken`

**–§–∞–π–ª –∏–∑–º–µ–Ω—ë–Ω:**
- `ui/i18n/locales/ru-RU.json`

---

## ‚ö†Ô∏è –î–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –∑–∞–º–µ—á–∞–Ω–∏—è

### 1. –£—Å—Ç–∞—Ä–µ–≤—à–∏–µ —Å—Å—ã–ª–∫–∏ –Ω–∞ API_KEY –≤ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏–∏

–í —Å–ª–µ–¥—É—é—â–∏—Ö —Ñ–∞–π–ª–∞—Ö –≤—Å—ë –µ—â—ë –µ—Å—Ç—å —É–ø–æ–º–∏–Ω–∞–Ω–∏—è —Å—Ç–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ `API_KEY`:
- `docs/CONFIGURATION.md` - —Å—Ç—Ä–æ–∫–∞ 26
- `docs/DEPLOYMENT.md` - —Å—Ç—Ä–æ–∫–∏ 22, 27, 77, 109
- `dev_docs/publications-api-summary.md` - —Å—Ç—Ä–æ–∫–∏ 34, 56, 58
- `README.md` - —Å—Ç—Ä–æ–∫–∏ 85, 127
- `.env.production.example` - –Ω—É–∂–Ω–æ —É–¥–∞–ª–∏—Ç—å `API_KEY`
- `.env.production` - –Ω—É–∂–Ω–æ —É–¥–∞–ª–∏—Ç—å `API_KEY`

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –û–±–Ω–æ–≤–∏—Ç—å —ç—Ç–∏ —Ñ–∞–π–ª—ã, –∑–∞–º–µ–Ω–∏–≤ —É–ø–æ–º–∏–Ω–∞–Ω–∏—è `API_KEY` –Ω–∞ –æ–ø–∏—Å–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö API —Ç–æ–∫–µ–Ω–æ–≤.

### 2. –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è

–ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è `JWT_SECRET` —Å padding –¥–æ 32 –±–∞–π—Ç –¥–ª—è –∫–ª—é—á–∞ AES-256. –≠—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç, –Ω–æ –Ω–µ –∏–¥–µ–∞–ª—å–Ω–æ:
```typescript
this.encryptionKey = Buffer.from(jwtSecret.padEnd(32, '0').slice(0, 32));
```

**–†–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏—è:** –ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω—ã–π `ENCRYPTION_KEY` –¥–ª—è —Ç–æ–∫–µ–Ω–æ–≤ –∏–ª–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å KDF (Key Derivation Function) –¥–ª—è –≥–µ–Ω–µ—Ä–∞—Ü–∏–∏ –∫–ª—é—á–∞ –∏–∑ JWT_SECRET.

### 3. –ê–Ω–≥–ª–∏–π—Å–∫–∞—è –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è

–ù–µ –ø—Ä–æ–≤–µ—Ä—è–ª —Ñ–∞–π–ª `en-US.json` - –≤–æ–∑–º–æ–∂–Ω–æ, —Ç–∞–º —Ç–∞–∫–∂–µ –Ω—É–∂–Ω–æ –¥–æ–±–∞–≤–∏—Ç—å –ø–µ—Ä–µ–≤–æ–¥—ã.

---

## üìä –ò—Ç–æ–≥–æ–≤–∞—è –æ—Ü–µ–Ω–∫–∞

| –ö–æ–º–ø–æ–Ω–µ–Ω—Ç | –°—Ç–∞—Ç—É—Å | –ö–æ–º–º–µ–Ω—Ç–∞—Ä–∏–π |
|-----------|--------|-------------|
| –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö | ‚úÖ –ü–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ | –°—Ö–µ–º–∞ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞, –º–∏–≥—Ä–∞—Ü–∏–∏ –ø—Ä–∏–º–µ–Ω–µ–Ω—ã |
| Backend API | ‚úÖ –ü–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ | **–ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π –±–∞–≥ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω** |
| Frontend UI | ‚úÖ –ü–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ | UI –ø–æ–ª–Ω–æ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π |
| –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è | ‚ö†Ô∏è –ß–∞—Å—Ç–∏—á–Ω–æ —É—Å—Ç–∞—Ä–µ–ª–∞ | –û—Å–Ω–æ–≤–Ω–æ–π —Ñ–∞–π–ª –æ–±–Ω–æ–≤–ª—ë–Ω, –æ—Å—Ç–∞–ª—å–Ω—ã–µ —Ç—Ä–µ–±—É—é—Ç –ø—Ä–∞–≤–∫–∏ |
| –õ–æ–∫–∞–ª–∏–∑–∞—Ü–∏—è | ‚ö†Ô∏è –ù–µ–ø–æ–ª–Ω–∞—è | –†—É—Å—Å–∫–∏–π –æ–±–Ω–æ–≤–ª—ë–Ω, –∞–Ω–≥–ª–∏–π—Å–∫–∏–π –Ω–µ –ø—Ä–æ–≤–µ—Ä–µ–Ω |
| –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å | ‚úÖ –ü—Ä–∏–µ–º–ª–µ–º–æ | –ï—Å—Ç—å —Ä–µ–∫–æ–º–µ–Ω–¥–∞—Ü–∏–∏ –ø–æ —É–ª—É—á—à–µ–Ω–∏—é |

---

## ‚úÖ –ó–∞–∫–ª—é—á–µ–Ω–∏–µ

–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç—å API —Ç–æ–∫–µ–Ω–æ–≤ **–ø–æ–ª–Ω–æ—Å—Ç—å—é —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–∞** –∏ –ø–æ—Å–ª–µ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫—Ä–∏—Ç–∏—á–µ—Å–∫–æ–≥–æ –±–∞–≥–∞ —Å –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π **–≥–æ—Ç–æ–≤–∞ –∫ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—é –≤ production**.

–û—Å–Ω–æ–≤–Ω—ã–µ –∑–∞–¥–∞—á–∏ –≤—ã–ø–æ–ª–Ω–µ–Ω—ã:
- ‚úÖ –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –º–æ–≥—É—Ç —Å–æ–∑–¥–∞–≤–∞—Ç—å —Ç–æ–∫–µ–Ω—ã —á–µ—Ä–µ–∑ UI
- ‚úÖ –¢–æ–∫–µ–Ω—ã –±–µ–∑–æ–ø–∞—Å–Ω–æ —Ö—Ä–∞–Ω—è—Ç—Å—è –≤ –ë–î (—Ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ + —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ)
- ‚úÖ –ú–æ–∂–Ω–æ –æ–≥—Ä–∞–Ω–∏—á–∏–≤–∞—Ç—å –¥–æ—Å—Ç—É–ø —Ç–æ–∫–µ–Ω–∞ –ø–æ –ø—Ä–æ–µ–∫—Ç–∞–º (scope)
- ‚úÖ External API —Ä–∞–±–æ—Ç–∞–µ—Ç —Å —Ç–æ–∫–µ–Ω–∞–º–∏
- ‚úÖ Automation API —Ä–∞–±–æ—Ç–∞–µ—Ç —Å —Ç–æ–∫–µ–Ω–∞–º–∏
- ‚úÖ –¢–æ–∫–µ–Ω—ã –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç –¥–∞—Ç—É –ø–æ—Å–ª–µ–¥–Ω–µ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è:
1. –û–±–Ω–æ–≤–∏—Ç—å –æ—Å—Ç–∞–≤—à—É—é—Å—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é (—É–¥–∞–ª–∏—Ç—å —É–ø–æ–º–∏–Ω–∞–Ω–∏—è `API_KEY`)
2. –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∞–Ω–≥–ª–∏–π—Å–∫—É—é –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏—é
3. –†–∞—Å—Å–º–æ—Ç—Ä–µ—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –æ—Ç–¥–µ–ª—å–Ω–æ–≥–æ –∫–ª—é—á–∞ —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏—è

---

**–ò—Å–ø—Ä–∞–≤–ª–µ–Ω–æ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏:**
- ‚úÖ –ö—Ä–∏—Ç–∏—á–µ—Å–∫–∏–π –±–∞–≥ —Å –≤–∞–ª–∏–¥–∞—Ü–∏–µ–π —Ç–æ–∫–µ–Ω–æ–≤
- ‚úÖ –£—Å—Ç–∞—Ä–µ–≤—à–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è –≤ `api-external.md`
- ‚úÖ –û—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏–µ —Ä—É—Å—Å–∫–∏–µ –ø–µ—Ä–µ–≤–æ–¥—ã

**–¢—Ä–µ–±—É–µ—Ç —Ä—É—á–Ω–æ–π –ø—Ä–∞–≤–∫–∏:**
- ‚ö†Ô∏è –û–±–Ω–æ–≤–∏—Ç—å –æ—Å—Ç–∞–ª—å–Ω—É—é –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—é
- ‚ö†Ô∏è –ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∞–Ω–≥–ª–∏–π—Å–∫—É—é –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏—é
